name: GitHub Actions Demo -  JIRA integration
run-name: ${{ github.actor }} is testing out jira integration
on: workflow_call
jobs:
  jira:
    runs-on: ubuntu-latest
    steps:
      - name: Jira Login
        uses: atlassian/gajira-login@v3
        env:
          JIRA_BASE_URL: ${{ secrets.JIRA_BASE_URL }}
          JIRA_USER_EMAIL: ${{ secrets.JIRA_USER_EMAIL }}
          JIRA_API_TOKEN: ${{ secrets.JIRA_API_TOKEN }}
      - name: Transition issue
        uses: atlassian/gajira-transition@v3
        with:
          issue: STDB-2
          transition: "Submit for review"
      - name: Comment on issue
        uses: atlassian/gajira-comment@v3
        with:
          issue: STDB-2
          comment: "${{ github.event.pusher.name }} pushed to repository: ${{ github.event.repository.full_name }}"


        